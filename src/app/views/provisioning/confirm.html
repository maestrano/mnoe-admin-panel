<div id="provisioning-confirm">
  <mno-widget is-loading="vm.isLoading" icon="fa-sitemap" heading="{{'mnoe_admin_panel.dashboard.provisioning.confirm.title' | translate}}">
    <mno-widget-header>
      <div class="breadcrumb-info">
        <ol class="breadcrumb">
          <li class="breadcrumb-item active">- {{ vm.subscription.product.name }}</li>
          <li class="breadcrumb-item active">{{ vm.subscription.product_pricing.name }}</li>
        </ol>
      </div>
    </mno-widget-header>
    <mno-widget-body class="no-padding">
      <table class="table table-striped" ng-show="(vm.singleBilling && vm.billedLocally) || vm.subscription.product.product_type != 'application'">
        <thead>
        <tr>
          <th>{{ 'mnoe_admin_panel.dashboard.provisioning.confirm.name' | translate }}</th>
          <th>{{ 'mnoe_admin_panel.dashboard.provisioning.confirm.order_type' | translate }}</th>
          <th>{{ 'mnoe_admin_panel.dashboard.provisioning.confirm.description' | translate }}</th>
          <th style="width: 25%">{{ 'mnoe_admin_panel.dashboard.provisioning.confirm.price' | translate }}</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>{{ vm.subscription.product_pricing.name }}</td>
          <td>{{ vm.orderTypeText | translate }}</td>
          <td>{{ vm.subscription.product_pricing.description }}</td>
          <td>
            <span ng-show="vm.pricedPlan(vm.subscription.product_pricing)" ng-repeat="price in vm.subscription.product_pricing.prices | filterBy: ['currency']: vm.selectedCurrency" class="badge">
              {{ price.currency }} {{ price.price_cents / 100 }}
            </span>
            <span ng-show="vm.subscription.product_pricing.pricing_type == 'recurring'">
              / {{ vm.subscription.product_pricing.per_unit }} / {{ vm.subscription.product_pricing.per_duration }}
            </span>
            <span ng-show="vm.subscription.product_pricing.pricing_type == 'payg'">
              {{ 'mnoe_admin_panel.dashboard.provisioning.order.pricing_type.payg' | translate }}
            </span>
            <span ng-show="vm.subscription.product_pricing.pricing_type == 'free'">
              {{ 'mnoe_admin_panel.dashboard.provisioning.order.pricing_type.free' | translate }}
            </span>
          </td>
        </tr>
        </tbody>
      </table>

      <table class="table table-striped" ng-show="vm.subscription.product.product_type == 'application'">
        <thead>
        <tr>
          <th>{{ 'mnoe_admin_panel.dashboard.provisioning.confirm.pricing_info.title' | translate }}</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>
            <span ng-hide="vm.singleBilling">
              {{ 'mnoe_admin_panel.dashboard.provisioning.confirm.pricing_info.single_billing_disabled' | translate }}
            </span>
            <span ng-show="vm.singleBilling && !vm.billedLocally">
              {{ 'mnoe_admin_panel.dashboard.provisioning.confirm.pricing_info.externally_managed' | translate }}
            </span>
            <span ng-show="vm.singleBilling && vm.billedLocally">
              {{ 'mnoe_admin_panel.dashboard.provisioning.confirm.pricing_info.billed_locally' | translate }}
            </span>
          </td>
        </tr>
        </tbody>
      </table>
    </mno-widget-body>
  </mno-widget>

  <span class="pull-right top-buffer-1">
    <button ng-show="vm.orderEditable()" class="btn btn-primary" ng-click="vm.editOrder()" translate>
      mnoe_admin_panel.dashboard.provisioning.confirm.edit_order
    </button>
    <button class="btn btn-warning" ng-click="vm.validate()" ng-disabled="vm.isLoading">
      <span ng-show="vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>
      <span translate>mnoe_admin_panel.dashboard.provisioning.confirm.validate</span>
    </button>
  </span>
</div>
