<div id="create-markup">
  <div class="modal-header">
    <h3 class="modal-title" translate>mnoe_admin_panel.dashboard.product_markups.add_markup.modal.title</h3>
  </div>

  <form name="vm.form.markup">
    <div class="modal-body">
      <div class="row">
        <angucomplete-alt id="product-selector"
                          placeholder="{{'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.search_product' | translate}}"
                          pause="200"
                          text-searching="{{'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.search_loading' | translate}}"
                          selected-object="vm.toggleProductFilter"
                          remote-api-handler="vm.searchProducts"
                          search-fields="name"
                          title-field="name"
                          minlength="0"
                          input-class="form-control form-control-small"
                          class="col-sm-4"></angucomplete-alt>

        <angucomplete-alt id="company-selector"
                          placeholder="{{'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.search_company' | translate}}"
                          pause="200"
                          text-searching="{{'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.search_loading' | translate}}"
                          selected-object="vm.toggleCompanyFilter"
                          remote-api-handler="vm.searchCompanies"
                          search-fields="name"
                          title-field="name"
                          minlength="0"
                          input-class="form-control form-control-small"
                          class="col-sm-4"></angucomplete-alt>
        <div class="col-sm-2">
          <label class="control-label">{{'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.label.percentage'|translate}}</label>
        </div>
        <div class="col-sm-2">
          <input type="number" class="form-control input-sm" percentage-input ng-model="vm.markup.percentage" placeholder="{{'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.placeholder.percentage' | translate}}" aria-label="{{'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.placeholder.percentage' | translate}}" required>
        </div>
      </div>
    </div>
  </form>

  <div class="modal-footer">
    <div class="row actions">
      <div class="col-xs-12">
        <mno-widget ng-if="vm.isPricing" heading="Offers">
          <mno-widget-header></mno-widget-header>
          <mno-widget-body class='no-padding'>
            <div mno-offers-list offers="vm.selectedProdPricings" markup="vm.markup.percentage" class='text-left'></div>
          </mno-widget-body>
        </mno-widget>
        <div ng-class="{ 'top-buffer-4': vm.isPricing }">
          <button type="button" class="btn btn-default" ng-click="vm.onCancel()">{{ 'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.cancel' | translate}}</button>
          <button type="button" class="btn btn-primary" ng-click="vm.onSubmit()" ng-disabled="vm.isLoading || vm.form.markup.$invalid" class="btn btn-primary">
            <span ng-show="vm.isLoading"><i class="fa fa-spinner fa-pulse fa-fw"></i></span>
            {{'mnoe_admin_panel.dashboard.product_markups.add_markup.modal.save' | translate}}
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
